<!DOCTYPE html>
<html lang="en">
  <head>
    <script src="%PUBLIC_URL%/config.js"></script>
    <base href=window.FRONTENDSUBDIR>
    <meta charset="utf-8" />
    <link rel="shortcut icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="description"
      content="VesselCare"
    />
    <link rel="apple-touch-icon" href="logo192.png" />

    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    <link rel="stylesheet" href="%PUBLIC_URL%/css/bootstrapCss.css"/>
    <link rel="stylesheet" href="%PUBLIC_URL%/css/leatflet.css" />
    <script src="%PUBLIC_URL%/js/leaflet.js"></script>

    <link href="https://fonts.googleapis.com/css?family=Roboto:500,700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,700,700i,800" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />
    <link rel="stylesheet" href="%PUBLIC_URL%/css/custom.css">

    <title>VesselCare</title>
  </head>
  <body class="materialdesign">
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
  </body>
  <script>
  window.onload = function() {
    var context = new AudioContext();
    // Setup all nodes
    navigator.serviceWorker.ready.then(async function(registration) {
      // const status = await navigator.permissions.query({
      //   name: 'periodic-background-sync',
      // });
      // if (status.state === 'granted') {
      //   // Periodic background sync can be used.
      //   const tags = await registration.periodicSync.getTags();
      //   if (!tags.includes('createWorkOrdersFromConfig')) {
      //       await registration.periodicSync.register('createWorkOrdersFromConfig', {
      //           minInterval: 8 * 60 * 60 * 1000,
      //       });
      //   }
      // }
      const bgSyncStatus = await navigator.permissions.query({
        name: 'background-sync',
      });
      if (bgSyncStatus.state === 'granted') {
        const synctags = await registration.sync.getTags();
        // await registration.sync.register('workOrderSync');
        // await registration.sync.register('createWorkOrdersFromConfig');
        // await registration.sync.register('syncEngineLogs');
      }
      return "done"
    });
  }
  </script>
</html>